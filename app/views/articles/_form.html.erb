<%= form_with(model: article, local: true) do |f| %>

	<% if article.errors.any? %>
		<div id="error_explanation">
			<h2><%= pluralize(article.errors.count, "error") %> prohibited this article from being saved:</h2>

			<ul>
			<% article.errors.full_messages.each do |message| %>
				<li><%= message %></li>
			<% end %>
			</ul>
		</div>
	<% end %>

	<div class="padding-5 margin-bottom-10 align-right" style="background-color:#<%= @article.status.colorbackground unless @article.status.nil? %>; color: #<%= @article.status.colortext unless @article.status.nil? %>;">
		<% if @article.original.blank? %>
			ORIGINAL
		<% else %>
			TRANSLATION
		<% end %>
		|
		<strong>Language:</strong> <%= f.collection_select :language_id, @languages, :id, :name, {:selected => @article.language_id ? @article.language_id : 1} %>
		<%= f.collection_select :type_id, @types.where(language_id: @article.language_id || 1), :id, :name, {:selected => @article.type_id ? @article.type_id : 1}, {:style => "width: 160px;"} %>
		<%= f.text_field :created_at %>
		<%= f.collection_select :status_id, @statuses, :id, :name, {:selected => @article.status_id ? @article.status_id : 1} %>
		<%= f.select :email_to, options_for_select([["None", "none"], ["Test to M", "test"], ["E-Mail Alert", "alert"]]) %>
		<%= f.submit %>
		<%= link_to 'Go', @article %>
	</div>
	
	<div class="margin-bottom-10 align-right">
		<strong>Update of:</strong> <%= f.collection_select :main_id, @mains.where(language_id: @article.language_id || 1), :id, :headline, {include_blank: true, :selected => @article.main_id}, {:style => "width: 190px;"} %>
		<strong>Translation of:</strong> <%= f.collection_select :original_id, @translationof, :id, :headline, {include_blank: true, :selected => @article.original_id}, {:style => "width: 190px;"} %>
		<strong>Frame:</strong> <%= f.collection_select :frame_id, @frames.where(language_id: @article.language_id || 1), :id, :emotional_quest_action, {:selected => @article.frame_id ? @article.frame_id : 1}, {:style => "width: 190px;"}  %>
	</div>
	
	<h3>Headlines, Lede, Images, Article</h3>
		<div class="margin-bottom-10">
			<%= f.text_field :headline, :class => "width-98 padding-5 font-header font-header-small line-100", placeholder: "Headline…" %>
		</div>
		<div class="margin-bottom-10">
			<%= f.text_field :short_headline, :class => "width-40 padding-5 font-header font-header-small line-100", placeholder: "Short headline…" %>
		</div>
		<div class="margin-bottom-10">
			<%= f.text_field :lede, :class => "width-98 padding-5 font-main font-main-normal font-italic", placeholder: "Lede…" %>
		</div>
	
	
	<div class="background-color-yellow padding-10 margin-bottom-10">
		<% if @article.original.blank? %>
			<div class="margin-bottom-5">
				Video: <%= f.text_field :video, :class => "width-20 padding-5", placeholder: "Video ID…" %>
			</div>
			<div class="margin-bottom-5">
				Main (existing): <%= f.collection_select :upload_id, @uploads, :id, :data_short_name, {include_blank: true, :selected => @article.upload_id}, {:style => "width: 190px;"} %>
			</div>
			<div class="margin-bottom-5">
				Main (new): <%= f.file_field :image_main  %>
			</div>
			<div class="">
				High (new): <%= f.file_field :image_high  %>
			</div>
		<% else %>
			<div class="width-100">
				<div class="width-48 float-left padding-10">
					<strong>Image:</strong> <%= @article.original.image %>——<strong>Video:</strong> <%= @article.original.video %>
				</div>
				<div class="width-48 float-left">
					<div class="float-left width-70">
						<%= f.text_field :image, :class => "width-98 padding-10", placeholder: "Main image file…" %>
					</div>
					<div class="float-left width-20">
						<%= f.text_field :video, :class => "width-98 padding-10", placeholder: "Video ID…" %>
					</div>
					<div class="clear"></div>
				</div>
				<div class="clear"></div>
			</div>
		<% end %>
	</div>
	
	
	<h3>Podcast Report / Interview / Journalism Interview</h3>
		<% if @article.original.blank? %>
			<div class="margin-bottom-10">
				<div class="margin-bottom-10">
					<div class="margin-bottom-10">
						<div class="margin-bottom-5">
							.aac: <%= f.collection_select :audio_aac_id, @audios_aac, :id, :data_short_name, {include_blank: true, :selected => @article.audio_aac_id}, {:style => "width: 190px;"} %>
						</div>
						<div class="clear"></div>
					</div>
					<div class="margin-bottom-10">
						<div class="margin-bottom-5">
							.mp3: <%= f.collection_select :audio_mp3_id, @audios_mp3, :id, :data_short_name, {include_blank: true, :selected => @article.audio_mp3_id}, {:style => "width: 190px;"} %>
						</div>
						<div class="clear"></div>
					</div>
					<div class="margin-bottom-10">
						<div class="float-left margin-right-20" style="width:4%">
							<%= f.number_field :audio_file_duration, :class => "width-98 padding-5", placeholder: "Dur…" %>
						</div>
						<div class="float-left margin-right-20" style="width:3%">
							<%= f.number_field :audio_file_episode, :class => "width-98 padding-5", placeholder: "Ep. nº" %>
						</div>
						<div class="float-left" style="width:20%">
							<%= f.text_field :audio_intro, :class => "width-98 padding-5", placeholder: "Audio intro…" %>
						</div>
						<div class="clear"></div>
					</div>
				</div>
				<div class="margin-bottom-10">
					<%= f.text_area :audio_episode_notes, :class => "width-98 padding-10 font-main font-main-normal", :style => "min-height: 100px;", placeholder: "Podcast episode notes…" %>
				</div>
			</div>
		<% else %>
			<div class="width-100">
			<div class="width-48 float-left padding-10">
				<p><em><strong>.aac:</strong> <%= @article.original.audio_file_aac %></em></p>
				<p><em><strong>.aac length:</strong> <%= @article.original.audio_file_aac_length %></em></p>
				<p><em><strong>.aac type:</strong> <%= @article.original.audio_file_aac_type %></em></p>
				<p><em><strong>.mp3:</strong> <%= @article.original.audio_file_mp3 %></em></p>
				<p><em><strong>.mp3 length:</strong> <%= @article.original.audio_file_mp3_length %></em></p>
				<p><em><strong>.mp3 type:</strong> <%= @article.original.audio_file_mp3_type %></em></p>
				<p><em><strong>Duration:</strong> <%= @article.original.audio_file_duration %></em></p>
				<p><em><strong>Episode:</strong> <%= @article.original.audio_file_episode %></em></p>
				<p><em><strong>Audio intro:</strong> <%= @article.original.audio_intro %></em></p>
				<%= markdown(@article.original.audio_episode_notes) %>
			</div>
			<div class="width-48 float-left">
				<div class="margin-bottom-17 width-100 margin-right-20">
					<%= f.text_field :audio_file_aac, :class => "width-98 padding-5", placeholder: ".aac" %>
				</div>
				<div class="margin-bottom-17 width-100 margin-right-20">
					<%= f.number_field :audio_file_aac_length, :class => "width-98 padding-5", placeholder: "Length" %>
				</div>
				<div class="margin-bottom-17 width-100 margin-right-20">
					<%= f.text_field :audio_file_aac_type, :class => "width-98 padding-5", placeholder: "audio/aac", value: "audio/aac" %>
				</div>
				<div class="margin-bottom-17 width-100 margin-right-20">
					<%= f.text_field :audio_file_mp3, :class => "width-98 padding-5", placeholder: ".mp3" %>
				</div>
				<div class="margin-bottom-17 width-100 margin-right-20">
					<%= f.number_field :audio_file_mp3_length, :class => "width-98 padding-5", placeholder: "Length" %>
				</div>
				<div class="margin-bottom-17 width-100 margin-right-20">
					<%= f.text_field :audio_file_mp3_type, :class => "width-98 padding-5", placeholder: "audio/mpeg", value: "audio/mpeg" %>
				</div>
				<div class="margin-bottom-17 width-100 margin-right-20">
					<%= f.number_field :audio_file_duration, :class => "width-98 padding-5", placeholder: "Dur…" %>
				</div>
				<div class="margin-bottom-17 width-100 margin-right-20">
					<%= f.number_field :audio_file_episode, :class => "width-98 padding-5", placeholder: "Ep. nº" %>
				</div>
				<div class="margin-bottom-17 width-100 margin-right-20">
					<%= f.text_field :audio_intro, :class => "width-98 padding-5", placeholder: "Audio intro…" %>
				</div>
				<div class="margin-bottom-17">
					<%= f.text_area :audio_episode_notes, :class => "width-98 padding-10 font-main font-main-normal", :style => "min-height: 130px;", placeholder: "Podcast episode notes…" %>
				</div>
				<div class="clear"></div>
			</div>
			<div class="clear"></div>
		<% end %>
		
		
		<h3>Text: <span class="label background-color-patrons font-color-white">patrons only column</span> / free article / sales post</h3>
		<div class="margin-bottom-10">
			<% if @article.original.blank? %>
				<%= f.text_area :body, :class => "width-98 padding-10 font-main font-main-normal", :style => "min-height: 400px;", placeholder: "Article text…" %>
			<% else %>
				<div class="width-100">
					<div class="width-48 float-left padding-10">
						<%= markdown(@article.original.body) %>
					</div>
					<div class="width-48 float-left">
						<%= f.text_area :body, :class => "width-100 padding-10 font-main font-main-normal", :style => "min-height: 800px;" %>
					</div>
					<div class="clear"></div>
				</div>
			<% end %>
		</div>
	

<div class="alert-warning padding-10 margin-top-10">
		
	<div class="margin-bottom-10">	
		<h3>Patrons: audio report script</h3>
			<% if @article.original.blank? %>
				<div class="margin-bottom-10 width-100">
					<%= f.text_field :extras_notes_teaser, :class => "width-30 padding-5", placeholder: "Patrons audio script headline…" %>
				</div>
				<div class="margin-bottom-10 width-100">
					<%= f.text_area :extras_notes, :class => "width-98 padding-10 font-main font-main-normal", :style => "min-height: 400px;", placeholder: "Patrons audio script…" %>
				</div>
			<% else %>
				<div class="width-100">
				<div class="width-48 float-left padding-10">
					<p><em><strong>Teaser:</strong> <%= @article.original.extras_notes_teaser %></em></p>
					<%= markdown(@article.original.extras_notes) %>
					<p><em><strong>Audio teaser:</strong> <%= @article.original.extras_audio_teaser %></em></p>
					<p><em><strong>Audio intro:</strong> <%= @article.original.extras_audio_intro %></em></p>
					<p><em><strong>Audio file:</strong> <%= @article.original.extras_audio_file %></em></p>
				</div>
				<div class="width-48 float-left">
					<div class="margin-bottom-15 width-100">
						<%= f.text_field :extras_notes_teaser, :class => "width-98 padding-5", placeholder: "Patrons extra text headline…" %>
					</div>
					<div class="margin-bottom-15 width-100">
						<%= f.text_area :extras_notes, :class => "width-98 padding-10 font-main font-main-normal", :style => "min-height: 600px;", placeholder: "Patrons only notes…" %>
					</div>
					<div class="margin-bottom-15 width-100 margin-right-20">
						<%= f.text_field :extras_audio_teaser, :class => "width-98 padding-5", placeholder: "Patrons audio teaser…" %>
					</div>
					<div class="margin-bottom-15 width-100 margin-right-20">
						<%= f.text_field :extras_audio_intro, :class => "width-98 padding-5", placeholder: "Patrons audio intro…" %>
					</div>
					<div class="margin-bottom-15 width-100 margin-right-20">
						<%= f.text_field :extras_audio_file, :class => "width-98 padding-5", placeholder: "Patrons audio file…" %>
					</div>
					<div class="clear"></div>
				</div>
			<% end %>
			
		
		<h3>Patrons: column audio / extra interview questions</h3>
			<% if @article.original.blank? %>
				<div class="margin-bottom-5">
					.aac: <%= f.collection_select :extra_audio_aac_id, @audios_aac, :id, :data_short_name, {include_blank: true, :selected => @article.extra_audio_aac_id}, {:style => "width: 190px;"} %>
				</div>
				<div class="margin-bottom-5">
					.mp3: <%= f.collection_select :extra_audio_mp3_id, @audios_mp3, :id, :data_short_name, {include_blank: true, :selected => @article.extra_audio_mp3_id}, {:style => "width: 190px;"} %>
				</div>
				<div class="margin-bottom-10 width-100 margin-right-20">
					<%= f.text_field :extras_audio_teaser, :class => "width-30 padding-5", placeholder: "Patrons extra audio headline…" %>
				</div>
				<div class="margin-bottom-10 width-100">
					<%= f.text_area :extras_audio_intro, :class => "width-98 padding-10 font-main font-main-normal", :style => "min-height: 70px;", placeholder: "Patrons extra audio intro…" %>
				</div>
			<% else %>
				<div class="width-100">
				<div class="width-48 float-left padding-10">
					<p><em><strong>Teaser:</strong> <%= @article.original.extras_notes_teaser %></em></p>
					<%= markdown(@article.original.extras_notes) %>
					<p><em><strong>Audio teaser:</strong> <%= @article.original.extras_audio_teaser %></em></p>
					<p><em><strong>Audio intro:</strong> <%= @article.original.extras_audio_intro %></em></p>
					<p><em><strong>Audio file:</strong> <%= @article.original.extras_audio_file %></em></p>
				</div>
				<div class="width-48 float-left">
					<div class="margin-bottom-15 width-100">
					<%= f.text_field :extras_notes_teaser, :class => "width-98 padding-5", placeholder: "Patrons notes headline…" %>
					</div>
					<div class="margin-bottom-15 width-100">
						<%= f.text_area :extras_notes, :class => "width-98 padding-10 font-main font-main-normal", :style => "min-height: 600px;", placeholder: "Patrons only notes…" %>
					</div>
					<div class="margin-bottom-15 width-100 margin-right-20">
						<%= f.text_field :extras_audio_teaser, :class => "width-98 padding-5", placeholder: "Patrons audio headline…" %>
					</div>
					<div class="margin-bottom-15 width-100 margin-right-20">
						<%= f.text_field :extras_audio_intro, :class => "width-98 padding-5", placeholder: "Patrons audio intro…" %>
					</div>
					<div class="margin-bottom-15 width-100 margin-right-20">
						<%= f.text_field :extras_audio_file, :class => "width-98 padding-5", placeholder: "Patrons audio file…" %>
					</div>
					<div class="clear"></div>
				</div>
			<% end %>
			
			
			
			<h3>Patrons: extra video footage</h3>
			<div class="margin-bottom-5">
				<%= f.text_field :extras_video, :class => "width-20 padding-5", placeholder: "Video ID…" %>
			</div>
			<div class="margin-bottom-10 width-100 margin-right-20">
				<%= f.text_field :extras_video_teaser, :class => "width-30 padding-5", placeholder: "Patrons extra video headline…" %>
			</div>
			
			<div class="margin-bottom-10 width-100">
				<%= f.text_area :extras_video_intro, :class => "width-98 padding-10 font-main font-main-normal", :style => "min-height: 70px;", placeholder: "Patrons extra video intro…" %>
			</div>
			

	</div>	
</div>
	<div class="clear"></div>
	
<% end %>