<%= form_with(model: tweet, local: true) do |f| %>
	<% if tweet.errors.any? %>
		<div id="error_explanation">
			<h2><%= pluralize(tweet.errors.count, "error") %> prohibited this tweet from being saved:</h2>

			<ul>
			<% tweet.errors.full_messages.each do |message| %>
				<li><%= message %></li>
			<% end %>
			</ul>
		</div>
	<% end %>
	
	
	
	<div class="margin-bottom-10">
		<strong>Previous:</strong> <%= f.collection_select :previous_id, @previoustweets, :id, :message, {include_blank: true, :selected => @tweet.previous_id}, {:style => "width: 400px;"} %>
		<%= f.file_field :image  %>
		<%= f.collection_select :language_id, @languages, :id, :name %>
		<%= f.select :email_to, options_for_select([["None", "none"], ["E-Mail Alert", "alert"]]) %>
		<%= f.submit %>
	</div>
	
	<div class="margin-bottom-10">
		<%= f.text_area :message, :class => "width-70 padding-10 font-main font-main-normal", :style => "min-height: 60px;", placeholder: "Tweet text…", maxlength: 280 %>
	</div>
	
	<div class="margin-bottom-10">
		<strong>Article:</strong> <%= f.collection_select :article_id, @articles, :id, :headline, {include_blank: true, :selected => @tweet.article_id}, {:style => "width: 400px;"} %>
		<% if @tweet.article.present? %>
			| <%= link_to @tweet.article.headline, @tweet.article %>
		<% end %>
	</div>
	
	<% if action_name == "edit" %>
		<div class="margin-bottom-10">
			<strong>Twitter id:</strong> <%= f.text_field :twitter_tweet_id %>
		</div>
	<% end %>
	
	<% if action_name == "new" && !params[:article_id].present? %>
		<div class="margin-bottom-10">
			<%= f.text_field :new_article_headline, :class => "width-70 padding-5 font-header font-header-small line-10", placeholder: "New article headline…" %>
		</div>
		
		<div class="margin-bottom-10">
			<%= f.text_field :new_article_lede, :class => "width-70 padding-5 font-main font-main-normal font-italic", placeholder: "New article lede…" %>
		</div>

		<strong>Type:</strong> <%= f.collection_select :type_id, @types, :id, :name %>
	<% end %>
<% end %>